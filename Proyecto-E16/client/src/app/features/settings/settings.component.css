/* =========================================
   1. LAYOUT & FONDO GENERAL
   ========================================= */
:host {
  display: block;
  /* Fondo oscuro profundo global */
  @apply min-h-screen bg-[#0B0C15] text-gray-100 font-sans p-6 md:p-10;
  animation: fadeIn 0.5s ease-in-out;
}

.container {
  @apply max-w-4xl mx-auto;
}

/* Header */
.header {
  @apply mb-8;
}

.header h1 {
  @apply text-3xl font-bold text-white mb-2;
}

.header .subtitle {
  @apply text-gray-400 text-base;
}

/* =========================================
   2. BOTONES DE NAVEGACIÓN (TABS)
   ========================================= */
.btn-pill {
  @apply px-5 py-2.5 rounded-full text-sm font-medium transition-all duration-200 flex items-center gap-2 border;
  @apply cursor-pointer select-none active:scale-95;
}

/* Tab Activa (Estilo "btn-add" de friends) */
.btn-add {
  @apply bg-blue-600 text-white border-transparent shadow-lg shadow-blue-600/20;
}

/* Tab Inactiva (Estilo "btn-secondary") */
.btn-secondary {
  @apply bg-transparent text-gray-400 border-gray-800 hover:bg-[#1F2130] hover:text-white hover:border-gray-600;
}

/* =========================================
   3. TARJETAS (CARDS)
   ========================================= */
.card {
  /* Fondo tarjeta oscuro, bordes redondeados grandes */
  @apply bg-[#141422] border border-gray-800 rounded-[1.25rem] p-6 md:p-8 mb-8 shadow-xl;
  @apply transition-transform duration-300;
}

.card h2 {
  @apply text-xl font-semibold text-white mb-2;
}

.card .description {
  @apply text-gray-400 text-sm mb-6;
}

/* =========================================
   4. FORMULARIOS & INPUTS
   ========================================= */
.form-group {
  @apply mb-5;
}

.form-group label {
  @apply block text-sm font-medium text-gray-400 mb-2 ml-1;
}

/* Estilo unificado para inputs de texto y selects */
.form-group input,
.form-group select {
  @apply w-full py-3 px-4 rounded-xl; /* Bordes redondeados modernos */
  @apply bg-[#0b0b12] border border-gray-800 text-gray-100;
  @apply outline-none text-[0.95rem] transition-all duration-200;
  @apply placeholder-gray-600;
}

/* Efecto Focus (Borde azul) */
.form-group input:focus,
.form-group select:focus {
  @apply border-blue-500 ring-1 ring-blue-500/40 bg-[#0f0f1a];
}

/* =========================================
   5. BOTONES DE ACCIÓN
   ========================================= */
.buttons {
  @apply mt-8 flex justify-end gap-3;
}

.btn {
  @apply px-6 py-2.5 rounded-full font-medium transition-all duration-200 shadow-md flex items-center justify-center;
}

.btn:active {
  @apply scale-95;
}

.btn-pill {
  @apply px-5 py-2.5 rounded-full text-sm font-medium transition-all duration-200 flex items-center gap-2;
}

.btn-primary {
  @apply bg-blue-600 text-white hover:bg-blue-500 shadow-blue-900/20;
}

.btn-danger {
  @apply bg-red-500/10 text-red-400 border border-red-500/30 hover:bg-red-500 hover:text-white hover:border-transparent;
}

.btn-outline {
  @apply bg-transparent border border-gray-600 text-gray-300 hover:bg-gray-800 hover:text-white;
}

/* =========================================
   6. AVATAR Y CÁMARA
   ========================================= */
.avatar-xl {
  @apply w-32 h-32 rounded-full object-cover;
}

.mini-camera-btn {
  @apply absolute bottom-1 right-1 bg-blue-600 p-2 rounded-full;
  @apply border-4 border-[#141422] text-white shadow-lg cursor-pointer;
  @apply transition-transform duration-200 hover:scale-110;
}

/* Efecto al tocar la cámara */
.mini-camera-btn:active {
  @apply bg-gray-600 scale-90;
}

/* =========================================
   7. LISTAS (HISTORIAL Y LIKES)
   ========================================= */
.history-list {
  @apply space-y-3;
}

.history-item {
  @apply flex items-center justify-between p-4 rounded-xl;
  @apply bg-[#0b0b12] border border-gray-800 hover:border-gray-600 transition-colors;
}

.song-info .title {
  @apply font-medium text-white mb-0.5;
}

.song-info .artist {
  @apply text-sm text-gray-400;
}

.thumbnail {
  @apply w-12 h-12 rounded-lg object-cover border border-gray-700;
}

.unlike-btn {
  @apply ml-4 px-3 py-1.5 rounded-full text-xs font-semibold;
  @apply bg-red-500/10 text-red-400 border border-red-500/20;
  @apply hover:bg-red-500 hover:text-white transition-colors cursor-pointer;
}

/* Estrellas de valoración */
.rating-stars {
  @apply flex gap-1 mt-1;
}

.rating-stars span {
  @apply text-lg cursor-pointer text-gray-700 transition-transform hover:scale-110;
}

.rating-stars span.filled {
  @apply text-yellow-400; /* Amarillo Spotify/Estrella */
}

/* =========================================
   8. EXTRAS (CACHÉ Y OVERLAY)
   ========================================= */
.cache-display {
  @apply flex flex-col items-center justify-center py-8 bg-[#0b0b12] rounded-2xl border border-gray-800 mb-6;
}

.cache-display .large {
  @apply text-4xl font-bold text-white mb-1;
}

.cache-display .small {
  @apply text-gray-500 text-sm;
}

/* Overlay / Toast Notification */
.overlay {
  @apply fixed inset-0 flex justify-center items-end pb-12 pointer-events-none z-50;
  @apply transition-opacity duration-300 opacity-0;
}

/* Lógica para mostrar overlay (se asume que Angular añade clase o controla ngIf) 
   Si usas *ngIf, la animación de entrada debe manejarse con :enter en Angular o CSS keyframes 
*/
.overlay:not(:empty) {
  @apply opacity-100;
}

.overlay-box {
  @apply bg-[#1F2937] border border-blue-500 text-white px-6 py-3 rounded-xl shadow-2xl;
  @apply backdrop-blur-md mb-4;
  animation: slideUp 0.3s ease-out forwards;
}

@keyframes slideUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* =========================================
   9. TOGGLES (INTERRUPTORES)
   ========================================= */

.toggle-wrapper {
  @apply relative inline-block w-12 mr-2 align-middle select-none;
}

/* INPUT CIRCULAR */
.toggle-checkbox {
  @apply absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer;
  @apply transition-transform duration-200 ease-in-out z-10;
  @apply border-gray-300; 
  top: 0;
  left: 0;
  /* Estado por defecto (apagado) */
  transform: translateX(0); 
}

/* FONDO PISTA */
.toggle-label {
  @apply block overflow-hidden h-6 rounded-full bg-gray-700 cursor-pointer transition-colors duration-200;
}

/* --- ESTADOS ACTIVOS --- */

/* 1. Mover el círculo a la derecha */
.toggle-checkbox.active {
  @apply border-blue-600;
  transform: translateX(1.5rem) !important; /* 1.5rem = 24px (w-6) */
}

/* 2. Poner el fondo azul */
.toggle-label.active {
  @apply bg-blue-600 !important;
}